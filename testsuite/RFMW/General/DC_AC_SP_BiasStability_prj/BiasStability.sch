<Qucs Schematic 0.0.20>
<Properties>
  <View=-20,-50,1517,1171,0.826446,0,0>
  <Grid=10,10,1>
  <DataSet=BiasStability.dat>
  <DataDisplay=BiasStability.dpl>
  <OpenDisplay=0>
  <Script=BiasStability.m>
  <RunScript=0>
  <showFrame=0>
  <FrameText0=Title>
  <FrameText1=Drawn By:>
  <FrameText2=Date:>
  <FrameText3=Revision:>
</Properties>
<Symbol>
</Symbol>
<Components>
  <GND * 5 650 120 0 0 0 0>
  <Vdc V1 1 650 90 18 -26 0 1 "15 V" 1>
  <IProbe Collector 1 470 170 -75 -25 0 3>
  <R R2 1 470 90 15 -26 0 1 "20 Ohm" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <Vac V2 1 370 120 -25 -56 0 2 "1 V" 1 "1 GHz" 0 "0" 0 "0" 0>
  <Diode D2 1 170 60 -91 -25 1 1 "1e-15 A" 0 "1" 0 "10 pF" 1 "0.5" 0 "0.7 V" 0 "0.5" 0 "0.0 fF" 0 "0.0" 0 "2.0" 0 "0.0 Ohm" 0 "0.0 ps" 0 "0" 0 "0.0" 0 "1.0" 0 "1.0" 0 "0" 0 "1 mA" 0 "26.85" 0 "3.0" 0 "1.11" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "26.85" 0 "1.0" 0 "normal" 0>
  <Diode D1 1 170 120 -86 -26 1 1 "1e-15 A" 0 "1" 0 "10 pF" 1 "0.5" 0 "0.7 V" 0 "0.5" 0 "0.0 fF" 0 "0.0" 0 "2.0" 0 "0.0 Ohm" 0 "0.0 ps" 0 "0" 0 "0.0" 0 "1.0" 0 "1.0" 0 "0" 0 "1 mA" 0 "26.85" 0 "3.0" 0 "1.11" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "26.85" 0 "1.0" 0 "normal" 0>
  <_BJT T2 1 220 150 8 -26 1 0 "pnp" 0 "1e-16" 0 "1" 0 "1" 0 "0" 0 "0" 0 "0" 0 "0" 0 "0" 0 "1.5" 0 "0" 0 "2" 0 "300" 1 "1" 0 "0" 0 "0" 0 "0" 0 "0" 0 "0" 0 "30 pF" 1 "0.75" 0 "0.33" 0 "0" 0 "0.75" 0 "0.33" 0 "1.0" 0 "0" 0 "0.75" 0 "0" 0 "0.5" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "26.85" 0 "0.0" 0 "1.0" 0 "1.0" 0 "0.0" 0 "1.0" 0 "1.0" 0 "0.0" 0 "0.0" 0 "3.0" 0 "1.11" 0 "26.85" 0 "1.0" 0>
  <GND * 5 50 460 0 0 0 0>
  <C C4 1 190 400 -26 17 0 0 "1 nF" 1 "" 0 "neutral" 0>
  <GND * 5 470 460 0 0 0 0>
  <GND * 5 650 460 0 0 0 0>
  <GND * 5 610 270 0 0 0 0>
  <C C3 1 580 360 -26 17 0 0 "1 nF" 1 "" 0 "neutral" 0>
  <L L1 1 470 320 10 -26 0 1 "100 nH" 1 "" 0>
  <Pac P1 1 50 430 18 -26 0 1 "1" 1 "50 Ohm" 1 "0" 1 "1 GHz" 0 "26.85" 0>
  <Pac P2 1 650 430 18 -26 0 1 "2" 1 "50 Ohm" 1 "0" 1 "1 GHz" 0 "26.85" 0>
  <_BJT T1 1 470 400 8 -26 0 0 "npn" 0 "1e-16" 0 "1" 0 "1" 0 "0" 0 "0" 0 "0" 0 "0" 0 "0" 0 "1.5" 0 "0" 0 "2" 0 "150" 1 "1" 0 "0" 0 "0" 0 "0" 0 "0" 0 "0" 0 "10 pF" 1 "0.75" 0 "0.33" 0 "0" 0 "0.75" 0 "0.33" 0 "1.0" 0 "0" 0 "0.75" 0 "0" 0 "0.5" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "0.0" 0 "26.85" 0 "0.0" 0 "1.0" 0 "1.0" 0 "0.0" 0 "1.0" 0 "1.0" 0 "0.0" 0 "0.0" 0 "3.0" 0 "1.11" 0 "26.85" 0 "1.0" 0>
  <IProbe Base 1 410 400 -26 16 0 0>
  <L L2 1 220 370 10 -26 0 1 "100 nH" 1 "" 0>
  <GND * 5 360 270 0 0 0 0>
  <R R3 1 220 310 15 -26 0 1 "10 Ohm" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <GND * 5 170 210 0 0 0 0>
  <R R1 1 170 180 -97 -25 1 1 "20 kOhm" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <C C1 1 580 270 48 -35 1 0 "0.1 uF" 1 "" 0 "neutral" 0>
  <C C2 1 330 270 -30 -60 1 0 "5 uF" 1 "" 0 "neutral" 0>
  <.DC DC1 1 50 530 0 46 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "no" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.AC AC1 1 230 530 0 46 0 0 "log" 1 "1 Hz" 1 "100 kHz" 1 "100" 1 "no" 0>
  <.SP SP1 1 400 530 0 77 0 0 "lin" 1 "180 MHz" 1 "220 MHz" 1 "200" 1 "no" 0 "1" 0 "2" 0 "no" 0 "no" 0>
  <Eqn LoopStability 1 80 750 -19 13 0 0 "LoopGain=output.v / input.v" 1 "LoopPhase=phase(output.v / input.v)" 1 "yes" 0>
  <Eqn Eqn2 1 430 750 -19 13 0 0 "S11_dB=dB(S[1,1])" 1 "S21_dB=dB(S[2,1])" 1 "S22_dB=dB(S[2,2])" 1 "yes" 0>
</Components>
<Wires>
  <170 150 190 150 "" 0 0 0 "">
  <470 120 470 140 "" 0 0 0 "">
  <470 30 470 60 "" 0 0 0 "">
  <470 30 650 30 "" 0 0 0 "">
  <650 30 650 60 "" 0 0 0 "">
  <170 30 470 30 "" 0 0 0 "">
  <220 120 340 120 "input" 300 50 86 "">
  <400 120 470 120 "output" 420 50 10 "">
  <50 400 160 400 "" 0 0 0 "">
  <470 430 470 460 "" 0 0 0 "">
  <470 350 470 360 "" 0 0 0 "">
  <470 360 470 370 "" 0 0 0 "">
  <470 360 550 360 "" 0 0 0 "">
  <650 360 650 400 "" 0 0 0 "">
  <610 360 650 360 "" 0 0 0 "">
  <470 270 470 290 "" 0 0 0 "">
  <470 270 550 270 "" 0 0 0 "">
  <220 400 380 400 "" 0 0 0 "">
  <220 180 220 270 "" 0 0 0 "">
  <470 200 470 270 "" 0 0 0 "">
  <220 270 220 280 "" 0 0 0 "">
  <220 270 300 270 "" 0 0 0 "">
</Wires>
<Diagrams>
  <Rect 820 507 533 297 3 #c0c0c0 1 10 1 1 1 100000 0 -10 5 30 0 90 90 270 315 0 225 "" "" "" "">
	<"LoopGain" #0000ff 0 3 0 0 0>
	<"LoopPhase" #ff0000 0 3 0 0 1>
  </Rect>
  <Rect 810 855 538 265 3 #c0c0c0 1 00 1 1.8e+08 5e+06 2.2e+08 0 -10 5 40 1 -1 0.5 1 315 0 225 "" "" "" "">
	<"S11_dB" #0000ff 0 3 0 0 0>
	<"S21_dB" #ff0000 0 3 0 0 0>
	<"S22_dB" #005500 0 3 0 0 0>
  </Rect>
</Diagrams>
<Paintings>
  <Arrow 390 200 -20 -60 20 8 #ff0000 3 1 0>
  <Text 800 20 12 #000000 0 "Circuits of this kind are used to stabilize the bias of RF\ntransistors. But sometimes they tend to LF oscillations. This\nschematic shows how to determine the degree of stability\nby simulating magnitude and phase margin of the loop gain.\nResult: As a rule of thumb, it should be  C2 >> C1">
  <Rectangle 40 -30 250 280 #000000 0 1 #c0c0c0 1 0>
  <Text 50 140 14 #00007f 90 "bias stabilisation">
  <Text 350 200 12 #ff0000 0 "for measuring\nthe loop stability">
</Paintings>
